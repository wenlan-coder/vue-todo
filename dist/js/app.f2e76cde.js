(function(t){function e(e){for(var n,s,c=e[0],l=e[1],u=e[2],a=0,f=[];a<c.length;a++)s=c[a],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&f.push(i[s][0]),i[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(f.length)f.shift()();return r.push.apply(r,u||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],n=!0,c=1;c<o.length;c++){var l=o[c];0!==i[l]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=o[0]))}return t}var n={},i={app:0},r=[];function s(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=n,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(o,n,function(e){return t[e]}.bind(null,n));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";o("85ec")},"0fff":function(t,e,o){"use strict";o("22d6")},"22d6":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"bg-body"}},[o("div",{attrs:{id:"app"}},[o("my-input",{ref:"myInput",attrs:{additem:t.additem}}),o("my-item",{attrs:{todo:t.todo}}),o("my-todo",{attrs:{todo:t.todo,deleteAll:t.deleteAll},on:{selectAll:t.selectAll}})],1)])},r=[],s=(o("159b"),o("4de4"),o("911a")),c=o.n(s),l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"my-input"}},[o("div",{staticClass:"todo"},[o("span",[t._v("Todo List")]),o("input",{ref:"list",attrs:{type:"text",placeholder:"请输入代办事项           crtl +/",required:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.add.apply(null,arguments)}}})])])},u=[],d=o("e1bd"),a={props:["additem"],methods:{shortcut:function(){console.log("按下快捷键")},add:function(t){if(""==t.target.value)alert("输入不能为空");else{console.log("clcik enter");var e={id:Object(d["a"])(),title:t.target.value,done:!1};console.log(e),this.additem(e),t.target.value=""}}}},f=a,p=(o("cf80"),o("2877")),h=Object(p["a"])(f,l,u,!1,null,"009b6474",null),m=h.exports,v=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"my-item"}},t._l(t.todo,(function(t){return o("list",{key:t.id,attrs:{item:t}})})),1)},b=[],y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"hello",appear:""}},[o("div",{staticClass:"list"},[o("input",{attrs:{type:"checkbox"},domProps:{checked:t.item.done},on:{change:function(e){return t.handleTodo(t.item.id)}}}),o("div",{directives:[{name:"show",rawName:"v-show",value:!t.item.isEdit,expression:"!item.isEdit"}]},[t._v(t._s(t.item.title))]),o("input",{directives:[{name:"show",rawName:"v-show",value:t.item.isEdit,expression:"item.isEdit"}],ref:"inputTitle",staticClass:"edit-input",attrs:{type:"text"},domProps:{value:t.item.title},on:{blur:function(e){return t.hideEdit(e,t.item)}}}),o("button",{directives:[{name:"show",rawName:"v-show",value:!t.item.isEdit,expression:"!item.isEdit"}],staticClass:"btn-edit",on:{click:function(e){return t.editTodo(t.item)}}},[t._v("编辑")]),o("button",{staticClass:"btn-danger",on:{click:function(e){return t.deleteSingle(t.item.id)}}},[t._v("删除")])])])},g=[],T={props:["item","deleteTodo"],methods:{deleteSingle:function(t){confirm("确定要删除吗")&&this.$bus.$emit("deleteTodo",t)},handleTodo:function(t){console.log(t),c.a.publish("checkTodo",t)},editTodo:function(t){var e=this;t.hasOwnProperty("isEdit")?t.isEdit=!0:this.$set(t,"isEdit",!0),this.$nextTick((function(){e.$refs.inputTitle.focus()}))},hideEdit:function(t,e){e.isEdit=!1,this.$bus.$emit("updateTitle",e.id,t.target.value)}},data:function(){return{}}},k=T,w=(o("f9ce"),Object(p["a"])(k,y,g,!1,null,"42f26644",null)),_=w.exports,$={props:["todo","deleteTodo"],components:{List:_}},x=$,E=(o("fc70"),Object(p["a"])(x,v,b,!1,null,"328fdc1c",null)),O=E.exports,j=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"show",rawName:"v-show",value:t.itemTodo,expression:"itemTodo"}],attrs:{id:"my-todo"}},[o("input",{attrs:{type:"checkbox"},domProps:{checked:t.isall},on:{change:t.checkAll}}),o("span",[t._v("已经完成"+t._s(t.donelist)+"/全部完成"+t._s(t.all))]),o("button",{on:{click:t.deleteDone}},[t._v("清楚已完成")])])},A=[],P={props:["todo","deleteAll"],computed:{itemTodo:function(){return 0!==this.todo.length},isall:function(){return this.donelist===this.all&&this.all>0},all:function(){return this.todo.length},donelist:function(){return this.todo.reduce((function(t,e){return t+(!0===e.done?1:0)}),0)}},methods:{checkAll:function(t){console.log(t.target.checked),this.$emit("selectAll",t.target.checked)},deleteDone:function(){this.deleteAll()}}},S=P,C=(o("0fff"),Object(p["a"])(S,j,A,!1,null,"7a3c57f0",null)),I=C.exports,M={name:"App",data:function(){return{todo:JSON.parse(localStorage.getItem("todos"))||[]}},components:{MyInput:m,MyItem:O,MyTodo:I},mounted:function(){var t=this;document.onkeydown=function(e){var o=e.keyCode;191==o&&event.ctrlKey&&(window.event.preventDefault(),t.focusInput())},this.$bus.$on("deleteTodo",this.deleteTodo),this.$bus.$on("updateTitle",this.updateTitle),c.a.subscribe("checkTodo",this.checkTodo)},beforeDestroy:function(){this.$bus.$off("deleteTodo"),c.a.unsubscribe("checkTodo")},methods:{focusInput:function(){var t=this.$refs.myInput.$refs.list;t.focus()},additem:function(t){this.todo.unshift(t),console.log("app组件里面",t)},checkTodo:function(t,e){this.todo.forEach((function(t){t.id===e&&(t.done=!t.done)}))},selectAll:function(t){this.todo.forEach((function(e){e.done=t}))},deleteTodo:function(t){this.todo=this.todo.filter((function(e){return e.id!==t}))},deleteAll:function(){confirm("确定要清空吗")&&(this.todo=this.todo.filter((function(t){return!t.done})))},updateTitle:function(t,e){this.todo.forEach((function(o){o.id===t&&(o.title=e)}))}},watch:{todo:{handler:function(t){localStorage.setItem("todos",JSON.stringify(t))},deep:!0}}},N=M,D=(o("034f"),Object(p["a"])(N,i,r,!1,null,null,null)),J=D.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(J)},beforeCreate:function(){n["a"].prototype.$bus=this}}).$mount("#app")},"5cb5":function(t,e,o){},"85ec":function(t,e,o){},8698:function(t,e,o){},b560:function(t,e,o){},cf80:function(t,e,o){"use strict";o("b560")},f9ce:function(t,e,o){"use strict";o("5cb5")},fc70:function(t,e,o){"use strict";o("8698")}});
//# sourceMappingURL=app.f2e76cde.js.map